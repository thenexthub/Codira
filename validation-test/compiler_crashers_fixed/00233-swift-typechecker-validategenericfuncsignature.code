// Copyright (c) NeXTHub Corporation. All rights reserved.
// DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
//
// This code is distributed in the hope that it will be useful, but WITHOUT
// ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
// FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
// version 2 for more details (a copy is included in the LICENSE file that
// accompanied this code).
//
// Author(-s): Tunjay Akbarli

// RUN: not %target-language-frontend %s -typecheck
protocol f {
    k g d {
    k d
    k k
}
j j<l : d> : d {
    k , d>
}
class f: f {
}
class B : l {
 = p
}
f m : m {
  j f = o
}
fn i<o : o, m : m n m.f == o> (l: m) {
}
k: m
}
fn p<m>() -> [l<m>] {
    return []
}
f
m)
fn f<o>() -> (o, o -> o) -> o {
   m o m.i = {
}
 {
   o) {
        p  }
}
protocol f {
   class fn i()
}
class m: f{  class fn i {}
protocol p {
    class fn l()
}
class o: p {
    class fn l() { }
class c {
    fn b((Any, c))(a: (Any, AnyObject)) {
        b(a)
    }
}
protocol A {
    typealias B
}
class C<D> {
    init <A: A where A.B == D>(e: A.B) {
    }
}
o
}
class f<p : k, p : k where p.n == p> : n {
}
class f<p, p> {
}
protocol k {
    typealias n
}
o: i where k.j == f> {l fn k() { }
}
(f() as n).m.k()
fn k<o {
    enum k {
        fn o
        var _ = o
1, g(f, j)))
m k {
    class h k()
}
struct i {
    i d: k.l    h k() {
      n k
}
class g {
    typealias k = k
}
}
e
protocol h : e { fn e
fn r(d: t, k: t) -> (((t,}
struct e<j> : g {
    fn e(
h s: n -> n = {
    return $u
}
l o: n = { (d: n, o: n -> n) -> n q
    return o(d)
}
)
var d = b
=b as c=b
fn q(v: h) -> <r>(() -> r) -> h {
  n { u o "\(v): \(u())" }
}
struct e<r> {
    j p: , () -> ())] = []
}
protocol p {
}
protocol m : p {
}
protocol v : p {
}
protocol m {
 v = m
}
fn s<s : m, v : m u v.v == s> (m: v)s k {
    typealias h = h
